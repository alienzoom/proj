{% extends "index.html" %}
{% block content %}
    <div class="formPage">
        <div class="formPage-block request-form">
            <div class="formPage-header">
                <p href="#!" class="link" style="color: black;">Заявка</p>
            </div>

            <form class="formPage-form" method="post" action="{% url 'form_page' %}" id="application-form">
                {% csrf_token %}
                <input type="hidden" name="application_submit" value="1">
                
                <div class="form-request">
                    <p>Навыки</p>
                    {{ application_form.skill_list }}
                    {% if application_form.skill_list.errors %}
                        <div class="error">{{ application_form.skill_list.errors }}</div>
                    {% endif %}

                    <p>Организация</p>
                    {{ application_form.organization_name }}
                    {% if application_form.organization_name.errors %}
                        <div class="error">{{ application_form.organization_name.errors }}</div>
                    {% endif %}
                    
                    {{ application_form.organization_inn }}
                    {% if application_form.organization_inn.errors %}
                        <div class="error">{{ application_form.organization_inn.errors }}</div>
                    {% endif %}
                    
                    {{ application_form.organization_website }}
                    {% if application_form.organization_website.errors %}
                        <div class="error">{{ application_form.organization_website.errors }}</div>
                    {% endif %}
                    
                    <p>Предлагаемое решение</p>
                    {{ application.solution_name }}
                    {% if application_form.solution_name.errors %}
                        <div class="error">{{ application_form.solution_name.errors }}</div>
                    {% endif %}
                    
                    {{ application_form.solution_description }}
                    {% if application_form.solution_description.errors %}
                        <div class="error">{{ application_form.solution_description.errors }}</div>
                    {% endif %}
                    
                    {{ application_form.solution_experience }}
                    {% if application_form.solution_experience.errors %}
                        <div class="error">{{ application_form.solution_experience.errors }}</div>
                    {% endif %}
                    
                    <p>Бюджет</p>
                    <h2>Требования к ресурсам<br>(например: зарплата, оборудование, материалы и т.п.):</h2>
                    <div class="requirements-list">
                        <div class="requirements-el">
                            <label>
                                Название ресурса:<br>
                                {{ application_form.requirement_name }}
                            </label>

                            <label>
                                Цена ресурса:<br>
                                {{ application_form.requirement_price }}
                            </label>
                        </div>
                    </div>

                    <button type="button" class="add-requirement-btn">
                        + Добавить ресурс/цену
                    </button>

                    <p>Контакты для обратной связи</p>
                    {{ application_form.contact_first_name }}
                    {% if application_form.contact_first_name.errors %}
                        <div class="error">{{ application_form.contact_first_name.errors }}</div>
                    {% endif %}
                    
                    {{ application_form.contact_last_name }}
                    {% if application_form.contact_last_name.errors %}
                        <div class="error">{{ application_form.contact_last_name.errors }}</div>
                    {% endif %}
                    
                    {{ application_form.contact_middle_name }}
                    {% if application_form.contact_middle_name.errors %}
                        <div class="error">{{ application_form.contact_middle_name.errors }}</div>
                    {% endif %}
                    
                    {{ application_form.contact_phone }}
                    {% if application_form.contact_phone.errors %}
                        <div class="error">{{ application_form.contact_phone.errors }}</div>
                    {% endif %}
                    
                    {{ application_form.contact_email }}
                    {% if application_form.contact_email.errors %}
                        <div class="error">{{ application_form.contact_email.errors }}</div>
                    {% endif %}
                    
                    <!-- Общие ошибки формы -->
                    {% if application_form.non_field_errors %}
                        <div class="error">
                            {% for error in application_form.non_field_errors %}
                                {{ error }}
                            {% endfor %}
                        </div>
                    {% endif %}
                    
                    <input class="form-button" type="submit" value="Подать заявку" id="application-submit">
                </div>
            </form>
        </div>          
        
        <div class="formPage-block reg-form">
            <!-- /// ВХОД-РЕГИСТРАЦИЯ -->
            <div class="formPage-header">
                <p href="#!" class="sign-in active link" style="color: black;">Вход</p>
                <p href="#!" class="sign-up link">Регистрация</p>
            </div>
            
            <!-- ФОРМА ВХОДА -->
            <form class="formPage-form" method="post" action="{% url 'form_page' %}" id="login-form">
                {% csrf_token %}
                <input type="hidden" name="login_submit" value="1">
                <div class="form-sign-in">
                    {{ login_form.username }}
                    {% if login_form.username.errors %}
                        <div class="error">{{ login_form.username.errors }}</div>
                    {% endif %}
                    
                    {{ login_form.password }}
                    {% if login_form.password.errors %}
                        <div class="error">{{ login_form.password.errors }}</div>
                    {% endif %}
                    
                    {% if login_form.non_field_errors %}
                        <div class="error">
                            {% for error in login_form.non_field_errors %}
                                {{ error }}
                            {% endfor %}
                        </div>
                    {% endif %}
                    
                    <input class="form-button" type="submit" value="войти" id="login-submit">
                </div>
            </form>

            <!-- ФОРМА РЕГИСТРАЦИИ -->
            <form class="formPage-form" method="post" action="{% url 'form_page' %}" id="registration-form" enctype="multipart/form-data">
                {% csrf_token %}
                <input type="hidden" name="registration_submit" value="1">
                <div class="form-sign-up" style="display: grid;">
                    {{ registration_form.last_name }}
                    {% if registration_form.last_name.errors %}
                        <div class="error">{{ registration_form.last_name.errors }}</div>
                    {% endif %}
                    
                    {{ registration_form.first_name }}
                    {% if registration_form.first_name.errors %}
                        <div class="error">{{ registration_form.first_name.errors }}</div>
                    {% endif %}
                    
                    {{ registration_form.middle_name }}
                    {% if registration_form.middle_name.errors %}
                        <div class="error">{{ registration_form.middle_name.errors }}</div>
                    {% endif %}

                    {{ registration_form.profile_image }}
                    {% if registration_form.profile_image.errors %}
                        <div class="error">{{ registration_form.profile_image.errors }}</div>
                    {% endif %}
                    
                    {{ registration_form.email }}
                    {% if registration_form.email.errors %}
                        <div class="error">{{ registration_form.email.errors }}</div>
                    {% endif %}
                    
                    {{ registration_form.phone_number }}
                    {% if registration_form.phone_number.errors %}
                        <div class="error">{{ registration_form.phone_number.errors }}</div>
                    {% endif %}
                    
                    {{ registration_form.password1 }}
                    {% if registration_form.password1.errors %}
                        <div class="error">{{ registration_form.password1.errors }}</div>
                    {% endif %}
                    <p>Минимум 8 символов</p>
                    
                    {{ registration_form.password2 }}
                    {% if registration_form.password2.errors %}
                        <div class="error">{{ registration_form.password2.errors }}</div>
                    {% endif %}
                    
                    {% if registration_form.non_field_errors %}
                        <div class="error">
                            {% for error in registration_form.non_field_errors %}
                                {{ error }}
                            {% endfor %}
                        </div>
                    {% endif %}
                    
                    <input class="form-button" type="submit" value="Зарегистрироваться" id="registration-submit">
                </div>
            </form>
        </div>
    </div>
{%endblock%}